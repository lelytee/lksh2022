# Динамическое программирование 

## 5 признаков динамики

Основные вопросы:
    1) Состояние динамики
    2) База
    3) Формула пересчета
    4) В каком порядке считать
    5) Где ответ?


## ДП по подотрезкам

lol, so eazy


## ДП по поддеревьям

Задача: Есть связный граф в виде дерева, состоящий из $n$ вершин. У каждого ребра есть свой вес. Пусть dist($v$, $u$) = сумма всех весов ребер на пути от вершины v -> u. 
Нужно посчитать SUM($v$ = 1...n) SUM($u$ = 1...n) dist($v$, $u$)

Очевидно, для каждого ребра можно посчитать, сколько раз оно будет использовано.

dp[v] - какой-то предпосчет для поддерева с корнем в вершине v (например)


## ДП по подмножествам

**Маска** - такая штучечка из битичков, которая говорит, какие штучечки мы включили в нашу масочку

dp[mask] - количество четных чисел в массиве, которые принадлежат маске $mask$ (например)


## ДП с матрицами....

Матрицы будут заданы в формате: ($a$, $b$ | $c$, $d$), где символ '|' - разделяет две строки
A = (1, 3 | 4, 2); B = (2, 0 | 3, 2); A + B = (3, 3 | 7, 4)

### Перемножение

Размерность матрицы будут задаваться в формате: [$n$, $m$]. (то есть матрица n * m)
Матрицы A и B можно перемножать, если вторая размерность A = первая размерность B

Другими словами: C = A * B => A[$n$, $m$], B[$m$, $k$]

C = A * B
C[i][j] = SUM($k$ = 1 .. $m$) = A[i][k] * b[k][j]

A = (1, 3 | 4, 2); B = (2, 0 | 3, 2); C = A * B = (11, 6 | 14, 4)


## Числа Фибаначчи
Благодаря перемножению можно посчитать n-ое число Фибаначчи за $O(logn)$ 

Пусть есть матрица A = (f(i) | f(i - 1)), а мы хотим получить матрицу B = (f(i + 1) | f(i))
Тогда мы можем домножить матрицу A на матрицу (1, 1 | 1, 0)
Результат нашего перемножения в точности и будет равно B => в итоге мы можем получить f($n$) с помощью быстрого произведения

